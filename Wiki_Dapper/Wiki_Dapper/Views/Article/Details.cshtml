@model Wiki_Dapper.Entities.Models.Article

@{
    ViewData["Title"] = "Details";
}

<style>
    table, th, td {
        border: 1px solid black;
        text-align: center;
    }
</style>

<h2>Details</h2>

<div>
    <h4>Article</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Id)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Id)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.CreationTime)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.CreationTime)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Title)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Title)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Text)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Text)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.CreatorId)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.CreatorId)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.CategoryId)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.CategoryId)
        </dd>
    </dl>
</div>
<div>
    @Html.ActionLink("Edit", "Edit", "Article", new { id = Model.Id }) |
    <a asp-action="Index" asp-controller="Home">Back to List</a>
</div>

<br />
<br />

<table>
    <thead>
        <tr>
            <th>Id</th>
            <th>Login</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td colspan="2">Creator</td>
        </tr>
        <tr>
            <td>@Model.Creator.Id</td>
            <td>@Model.Creator.Login</td>
        </tr>
        <tr>
            <td colspan="2">Contributors</td>
        </tr>
        @foreach (var contributor in ViewBag.Contributors)
        {
            <tr>
                <td>@(contributor.Id)</td>
                <td>@(contributor.UserName)</td>
            </tr>
        }
    </tbody>
</table>

@if (User.Identity.IsAuthenticated)
{
    <br />
    <a asp-action="Index" asp-controller="Comment" asp-route-id="@(Model.Id)">Create Comment</a>
}


<br />
<br />

<table>
    <thead>
        <tr>
            <th>Author</th>
            <th>Adding Time</th>
            <th>Text</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            @foreach (var comment in ViewBag.Comments)
            {
                <td>@(comment.Author.UserName)</td>
                <td>@(comment.AddingTime)</td>
                <td>@(comment.Text)</td>
            }
        </tr>
    </tbody>
</table>